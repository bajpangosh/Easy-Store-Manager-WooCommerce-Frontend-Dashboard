# Phase 3 Testing Checklist: Reports & Alerts

**Tester:** _________________________
**Date:** _________________________
**Environment:** _________________________ (e.g., Local Dev, Staging)

---

## 1. Report & Alert REST API Endpoints

**Note:** These tests are best performed using a REST API client (e.g., Postman, Insomnia). Authentication (cookie or nonce) as `store_manager_frontend` or Admin is required. Assume some orders and products exist, including products with varying stock levels.

| Test Case ID | Action                                                                                                                                                                                                | Expected Result                                                                                                                                                                                                                                                                                          | Actual Result | Status (Pass/Fail) |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RAPI-01**  | **Sales Data - Default Period (GET `/reports/sales`)** <br> 1. Send GET request to `/esm/v1/reports/sales`.                                                                                             | Returns sales data for default period ('7days'). JSON includes `total_sales`, `order_count`, `period` (start/end dates), and `daily_sales_data` array. Status 200.                                                                                                                      |               |                    |
| **RAPI-02**  | **Sales Data - Specific Periods** <br> 1. Send GET to `/esm/v1/reports/sales?period=30days`. <br> 2. Send GET to `/esm/v1/reports/sales?period=current_month`. <br> 3. Send GET to `/esm/v1/reports/sales?period=last_month`. | Correct data for each specified period. `daily_sales_data` should span the correct number of days/dates for the period. Status 200.                                                                                                                                                      |               |                    |
| **RAPI-03**  | **Sales Data - Custom Period** <br> 1. Send GET to `/esm/v1/reports/sales?period=custom&date_start=YYYY-MM-DD&date_end=YYYY-MM-DD` (use valid dates with sales).                                      | Correct sales data for the custom date range. Status 200.                                                                                                                                                                                                                                  |               |                    |
| **RAPI-04**  | **Sales Data - Invalid Custom Period (Missing Dates)** <br> 1. Send GET to `/esm/v1/reports/sales?period=custom`.                                                                                     | Returns WP_Error with message "Custom period requires date_start and date_end." Status 400.                                                                                                                                                                                              |               |                    |
| **RAPI-05**  | **Sales Data - Invalid Custom Period (Bad Dates)** <br> 1. Send GET to `/esm/v1/reports/sales?period=custom&date_start=INVALID&date_end=INVALID`.                                                     | Returns WP_Error with message "Invalid date format for custom period." Status 400.                                                                                                                                                                                           |               |                    |
| **RAPI-06**  | **Sales Data - Invalid Custom Period (Start after End)** <br> 1. Send GET to `/esm/v1/reports/sales?period=custom&date_start=2023-01-10&date_end=2023-01-01`.                                       | Returns WP_Error with message "Start date cannot be after end date." Status 400.                                                                                                                                                                                             |               |                    |
| **RAPI-07**  | **Sales Data - No Sales in Period** <br> 1. Send GET for a period with no sales.                                                                                                                      | Returns `total_sales: 0`, `order_count: 0`. `daily_sales_data` array might be empty or contain all zeros for the period's days. Status 200.                                                                                                                                           |               |                    |
| **RAPI-08**  | **Bestsellers - Default Period & Limit (GET `/reports/bestsellers`)** <br> 1. Send GET to `/esm/v1/reports/bestsellers`.                                                                                | Returns top 5 bestsellers for '7days'. Array of `{ product_id, variation_id, name, quantity_sold }`. Status 200.                                                                                                                                                               |               |                    |
| **RAPI-09**  | **Bestsellers - Custom Period & Limit** <br> 1. Send GET to `/esm/v1/reports/bestsellers?period=30days&limit=3`.                                                                                      | Returns top 3 bestsellers for '30days'. Status 200.                                                                                                                                                                                                                        |               |                    |
| **RAPI-10**  | **Bestsellers - Invalid Limit** <br> 1. Send GET to `/esm/v1/reports/bestsellers?limit=0` or `limit=TEXT`.                                                                                             | API should use default limit (5) or return a 400 error if validation for `limit` is strict (e.g. must be >0). (Handler uses absint, so 0 or TEXT becomes 0, effectively using default or empty if logic expects >0). Check actual behavior. Expected: Uses default 5. |               |                    |
| **RAPI-11**  | **Low Stock - Default Threshold (GET `/reports/low-stock`)** <br> 1. Send GET to `/esm/v1/reports/low-stock`.                                                                                          | Returns paginated list of products at or below global WC low stock threshold (or 5 if not set). Array of `{ product_id, name, sku, stock_quantity, permalink }`. Status 200. `X-WP-Total` and `X-WP-TotalPages` headers present.                                         |               |                    |
| **RAPI-12**  | **Low Stock - Custom Threshold** <br> 1. Send GET to `/esm/v1/reports/low-stock?threshold=3`.                                                                                                         | Returns products with stock <= 3. Status 200.                                                                                                                                                                                                                              |               |                    |
| **RAPI-13**  | **Low Stock - Pagination** <br> 1. Send GET to `/esm/v1/reports/low-stock?threshold=10&per_page=2&page=2`.                                                                                             | Returns page 2 of low stock items, 2 items per page. Status 200.                                                                                                                                                                                                          |               |                    |
| **RAPI-14**  | **Low Stock - No Low Stock Items** <br> 1. Set threshold very low (e.g., 0) or ensure all stock is high. <br> 2. Send GET to `/esm/v1/reports/low-stock?threshold=0`.                                   | Returns an empty array. Status 200. `X-WP-Total: 0`.                                                                                                                                                                                                                         |               |                    |
| **RAPI-15**  | **Permission - Sales (Order Perms)** <br> 1. Attempt GET `/reports/sales` as user without `edit_shop_orders`.                                                                                         | Denied with 403/401 error.                                                                                                                                                                                                                                                  |               |                    |
| **RAPI-16**  | **Permission - Bestsellers (Order Perms)** <br> 1. Attempt GET `/reports/bestsellers` as user without `edit_shop_orders`.                                                                              | Denied with 403/401 error.                                                                                                                                                                                                                                                  |               |                    |
| **RAPI-17**  | **Permission - Low Stock (Product Perms)** <br> 1. Attempt GET `/reports/low-stock` as user without `edit_products`.                                                                                   | Denied with 403/401 error.                                                                                                                                                                                                                                                  |               |                    |

---

## 2. Frontend Reports Dashboard UI (Vue.js app)

### 2.1 `AppComponent` Integration

| Test Case ID | Action                                                                                                   | Expected Result                                                                                                                        | Actual Result | Status (Pass/Fail) |
|--------------|----------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-AC-01** | 1. Log in as `store_manager_frontend`. <br> 2. Navigate to `/storemanagement/`. <br> 3. Click "Reports" in the sidebar. | Main content area updates to show the Reports Dashboard view (`ReportsDashboardComponent`). "Reports" link in sidebar is active. |               |                    |

### 2.2 `ReportsDashboardComponent`

| Test Case ID | Action                                                                                                                                                              | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-RD-01** | **Initial Load** <br> 1. Navigate to Reports view.                                                                                                                    | All report sections (Sales, Bestsellers, Low Stock) attempt to load data. Loading indicators are shown for each section. Default period ('Last 7 Days') is selected.                                                                                                        |               |                    |
| **RFUI-RD-02** | **Period Selector Change** <br> 1. Select a different period from the dropdown (e.g., "Last 30 Days").                                                                 | Sales Summary and Bestselling Products sections update to reflect the new period. API calls are made with the new period. Low Stock section remains unchanged (as it's not period-dependent).                                                                              |               |                    |
| **RFUI-RD-03** | **Loading States** <br> 1. Observe a section (e.g., Sales) while data is being fetched (may need to throttle network to see clearly).                                 | A loading indicator (e.g., spinner) is visible within that specific section.                                                                                                                                                                                                |               |                    |
| **RFUI-RD-04** | **Error States - Sales** <br> 1. Simulate API error for `/reports/sales`. <br> 2. Load Reports view.                                                                   | Sales Summary section shows an error message (e.g., "Failed to load sales data."). Other sections may load normally.                                                                                                                                                  |               |                    |
| **RFUI-RD-05** | **Error States - Bestsellers** <br> 1. Simulate API error for `/reports/bestsellers`. <br> 2. Load Reports view.                                                        | Bestselling Products section shows an error message. Other sections load normally.                                                                                                                                                                                        |               |                    |
| **RFUI-RD-06** | **Error States - Low Stock** <br> 1. Simulate API error for `/reports/low-stock`. <br> 2. Load Reports view.                                                            | Low Stock Alerts section shows an error message. Other sections load normally.                                                                                                                                                                                            |               |                    |

### 2.3 Sales Report Section

| Test Case ID | Action                                                                                                                                 | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-SR-01** | **Display Data** <br> 1. Ensure sales data exists for the selected period. <br> 2. View Sales Summary section.                               | Correct "Total Sales" and "Number of Orders" are displayed and match API response. Period start/end dates are shown.                                                                                                                                                      |               |                    |
| **RFUI-SR-02** | **No Sales Data** <br> 1. Select a period with no sales.                                                                                 | "Total Sales: $0.00", "Number of Orders: 0" displayed. Daily sales trend might show "No daily sales data..." or an empty chart.                                                                                                                                                |               |                    |
| **RFUI-SR-03** | **Daily Sales Trend Visualization** <br> 1. View sales trend for a period with varied daily sales.                                        | Simple bar chart displays correctly. Bar heights are proportional to daily totals. Hovering over a bar shows date and total (if implemented). Start and end dates of the displayed trend are correct. Max daily sale computed correctly for scaling.                            |               |                    |
| **RFUI-SR-04** | **Daily Sales Trend - Few Days** <br> 1. Select "Last 7 Days".                                                                            | Chart shows 7 bars (or fewer if period just started). Dates are legible.                                                                                                                                                                                                  |               |                    |
| **RFUI-SR-05** | **Daily Sales Trend - Many Days** <br> 1. Select "Last 30 Days".                                                                           | Chart shows 30 bars. Bars might be thinner but still distinguishable. Dates might be less frequent on axis or rely on hover.                                                                                                                                              |               |                    |

### 2.4 Bestselling Products Section

| Test Case ID | Action                                                                                                                                 | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-BS-01** | **Display Data** <br> 1. Ensure bestsellers exist for the selected period. <br> 2. View Bestselling Products section.                         | List/table correctly shows top products (default 5) with "Product Name (ID: X)" and "X sold". Data matches API response.                                                                                                                                               |               |                    |
| **RFUI-BS-02** | **No Bestsellers** <br> 1. Select a period with no sales.                                                                                | "No bestselling products found for this period." message is shown.                                                                                                                                                                                                          |               |                    |
| **RFUI-BS-03** | **Limit Functionality** (If UI allows changing limit, otherwise test with default) <br> 1. Change limit if possible, or verify default limit. | Correct number of bestsellers are displayed as per the limit.                                                                                                                                                                                                               |               |                    |

### 2.5 Low Stock Alerts Section

| Test Case ID | Action                                                                                                                                                             | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-LS-01** | **Display Data** <br> 1. Ensure some products are below the low stock threshold. <br> 2. View Low Stock Alerts section.                                            | Table correctly shows products with Name, SKU, Remaining Qty. "Remaining Qty" is highlighted (e.g., red text). "Edit Product" link is present. Data matches API response. Threshold used is displayed.                                                                      |               |                    |
| **RFUI-LS-02** | **No Low Stock Items** <br> 1. Ensure all products are above the threshold.                                                                                         | "No products currently below the low stock threshold." message is shown.                                                                                                                                                                                                    |               |                    |
| **RFUI-LS-03** | **Pagination** <br> 1. Ensure more low stock items exist than `lowStockPagination.perPage`. <br> 2. Use pagination controls.                                       | List updates correctly for each page. Controls enable/disable correctly.                                                                                                                                                                                                  |               |                    |
| **RFUI-LS-04** | **Edit Product Link** <br> 1. Click "Edit Product" link for an item.                                                                                                 | Opens a new tab/window to the product's edit page. The link structure (`/wp-admin/post.php?post={id}&action=edit`) is correct. (Full navigation to Vue edit page is future enhancement if Vue Router implemented).                                                            |               |                    |
| **RFUI-LS-05** | **Threshold Display** <br> 1. Check the displayed threshold value.                                                                                                   | The threshold value shown in the section title (e.g., "Threshold: 5") matches the value used for the API query (default or configured).                                                                                                                                |               |                    |

### 2.6 UI Responsiveness (Reports Section)

| Test Case ID | Action                                                                                                                               | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **RFUI-R-01**  | **Reports Dashboard - Small Screen** <br> 1. View Reports Dashboard on a mobile-sized screen.                                          | Report sections (Sales, Bestsellers, Low Stock) stack vertically and are readable. Period selector is usable. Sales trend chart adjusts or becomes scrollable/simplified. Tables are responsive (e.g., horizontal scroll or stacked cells).                                    |               |                    |

---
**Overall Test Summary (Phase 3 - Reports):**

*   **Passed:** _____
*   **Failed:** _____
*   **Blocked:** _____

**General Notes/Bugs Found (Phase 3):**
(Space for any general observations or bugs that don't fit a specific test case)

---
