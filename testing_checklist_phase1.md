# Phase 1 Testing Checklist: Store Manager

**Tester:** _________________________
**Date:** _________________________
**Environment:** _________________________ (e.g., Local Dev, Staging)

---

## 1. User Role (`store_manager_frontend`) and Permissions

| Test Case ID | Action                                                                                                                                                              | Expected Result                                                                                                                                  | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **UR-01**    | 1. Create a new user. <br> 2. Assign the `store_manager_frontend` role. <br> 3. Log in as this user.                                                              | User can log in successfully.                                                                                                                   |               |                    |
| **UR-02**    | (As `store_manager_frontend`) <br> 1. Access the "Store Management" page (`/storemanagement/`). <br> 2. Attempt to view the product list.                           | User can access the page and view the product list UI. Products are displayed (if any exist).                                                   |               |                    |
| **UR-03**    | (As `store_manager_frontend`) <br> 1. Attempt to create a new product through the UI.                                                                                 | User can open the "Add New Product" form and successfully submit it. The product appears in the list.                                           |               |                    |
| **UR-04**    | (As `store_manager_frontend`) <br> 1. Attempt to edit an existing product through the UI.                                                                             | User can open the "Edit Product" form, make changes, and successfully save them. Changes are reflected in the product list.                 |               |                    |
| **UR-05**    | (As `store_manager_frontend`) <br> 1. Attempt to delete an existing product through the UI.                                                                            | User can delete a product. The product is removed from the list.                                                                                 |               |                    |
| **UR-06**    | (As `store_manager_frontend`) <br> 1. Attempt to upload an image via the media library when creating/editing a product.                                               | User can open the media library, upload, and select an image. The image is assigned to the product.                                            |               |                    |
| **UR-07**    | (As `store_manager_frontend`) <br> 1. Attempt to access the main WordPress Admin Dashboard (`/wp-admin/`).                                                             | User is redirected away from `/wp-admin/` (e.g., to `/storemanagement/` or homepage).                                                           |               |                    |
| **UR-08**    | (As `store_manager_frontend`) <br> 1. Attempt to access their own profile page (`/wp-admin/profile.php`).                                                             | User can access and update their own profile page.                                                                                              |               |                    |
| **UR-09**    | 1. Create a user with a different role (e.g., Subscriber). <br> 2. Log in as this user. <br> 3. Attempt to access the Product REST API endpoints directly (e.g., `GET /wp-json/esm/v1/products`). | Access is denied (e.g., 401 or 403 error).                                                                                                     |               |                    |
| **UR-10**   | (As Administrator) <br> 1. Verify the `store_manager_frontend` role exists in the WordPress roles list. <br> 2. Check its capabilities.                                | Role exists and has: `read_product`, `edit_product`, `delete_product`, `edit_products`, `delete_products`, `assign_product_terms`, `upload_files`, `edit_shop_orders`, `read_shop_orders`, `view_admin_dashboard`. |               |                    |

---

## 2. Admin Area Restriction and Redirection

| Test Case ID | Action                                                                                                                                                              | Expected Result                                                                                                                               | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **AA-01**    | 1. Log in as a user with the `store_manager_frontend` role. <br> 2. Directly navigate to `/wp-admin/`.                                                              | User is redirected to `/storemanagement/`.                                                                                                     |               |                    |
| **AA-02**    | 1. Log in as a user with the `store_manager_frontend` role. <br> 2. Directly navigate to `/wp-admin/edit.php?post_type=product`.                                      | User is redirected to `/storemanagement/`.                                                                                                     |               |                    |
| **AA-03**    | 1. Log in as a user with the `store_manager_frontend` role. <br> 2. Make an AJAX request from the frontend dashboard that targets `/wp-admin/admin-ajax.php`.            | The AJAX request completes successfully (assuming the AJAX handler itself is correct). User is NOT redirected for AJAX calls.                |               |                    |
| **AA-04**    | 1. Log in as a user with the `store_manager_frontend` role. <br> 2. Directly navigate to `/wp-admin/profile.php`.                                                      | User can access their profile page.                                                                                                             |               |                    |
| **AA-05**    | 1. Log in as an Administrator. <br> 2. Navigate to `/wp-admin/`.                                                                                                     | Administrator can access the full WordPress admin area without redirection.                                                                  |               |                    |

---

## 3. "Store Management" Page (`/storemanagement/`)

| Test Case ID | Action                                                                                                     | Expected Result                                                                                                                               | Actual Result | Status (Pass/Fail) |
|--------------|------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **SM-01**    | 1. As an Administrator, check if the "Store Management" page exists in the Pages list.                     | Page exists with title "Store Management" and slug "storemanagement".                                                                         |               |                    |
| **SM-02**    | 1. View the "Store Management" page on the frontend (not logged in, or as a non-store manager user).       | Content might be restricted (e.g., login prompt or error message), or show nothing if Vue app relies on auth. Vue app itself should not load. |               |                    |
| **SM-03**    | 1. Log in as `store_manager_frontend`. <br> 2. Navigate to `/storemanagement/`.                               | The Vue.js application (`<div id="store-management-app">`) loads and initializes. The product management interface is visible.               |               |                    |
| **SM-04**    | 1. Check the content of the "Store Management" page (when editing as Admin).                               | The page content should contain the shortcode `[store_management_dashboard]`.                                                                  |               |                    |

---

## 4. Product REST API Endpoints

**Note:** These tests are best performed using a REST API client (e.g., Postman, Insomnia) or via `WP_Test_REST_Controller_Testcase` if writing automated PHPUnit tests. Authentication (cookie or nonce) as `store_manager_frontend` or Admin is required.

| Test Case ID | Action                                                                                                                                                              | Expected Result                                                                                                                                                                                                                            | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **API-01**   | **GET /esm/v1/products** <br> 1. Send a GET request.                                                                                                                | Returns a JSON array of products (can be empty). Status 200. Pagination headers (`X-WP-Total`, `X-WP-TotalPages`) are present.                                                                                                             |               |                    |
| **API-02**   | **GET /esm/v1/products** (with params) <br> 1. Send GET with `page=2`, `per_page=5`, `search=TestProduct`, `orderby=name`, `order=asc`.                               | Returns a filtered, sorted, and paginated list of products according to params. Status 200.                                                                                                                                               |               |                    |
| **API-03**   | **POST /esm/v1/products** <br> 1. Send POST with valid product data (name, price, etc.).                                                                             | Creates a new product. Returns JSON data of the created product with ID. Status 201. Location header points to the new product.                                                                                                            |               |                    |
| **API-04**   | **POST /esm/v1/products** (invalid data) <br> 1. Send POST with missing required fields (e.g., empty name).                                                          | Returns a JSON error object with appropriate message (e.g., "Product name is required."). Status 400.                                                                                                                                       |               |                    |
| **API-05**   | **GET /esm/v1/products/{id}** <br> 1. Send GET request with a valid product ID.                                                                                      | Returns JSON data for the specified product. Status 200.                                                                                                                                                                                   |               |                    |
| **API-06**   | **GET /esm/v1/products/{id}** (invalid ID) <br> 1. Send GET request with a non-existent product ID.                                                                  | Returns a JSON error object (e.g., "Product not found."). Status 404.                                                                                                                                                                       |               |                    |
| **API-07**   | **PUT /esm/v1/products/{id}** <br> (or POST if using method override) <br> 1. Send PUT/POST request with updated product data to a valid product ID.                  | Updates the product. Returns JSON data of the updated product. Status 200.                                                                                                                                                                |               |                    |
| **API-08**   | **PUT /esm/v1/products/{id}** (invalid ID) <br> 1. Send PUT/POST request to a non-existent product ID.                                                               | Returns a JSON error object. Status 404.                                                                                                                                                                                                   |               |                    |
| **API-09**   | **DELETE /esm/v1/products/{id}** <br> 1. Send DELETE request to a valid product ID.                                                                                  | Deletes the product. Returns JSON response indicating success (e.g., `{"deleted": true, "previous": {...}}`). Status 200.                                                                                                                     |               |                    |
| **API-10**   | **DELETE /esm/v1/products/{id}** (invalid ID) <br> 1. Send DELETE request to a non-existent product ID.                                                              | Returns a JSON error object. Status 404.                                                                                                                                                                                                   |               |                    |
| **API-11**   | **POST /esm/v1/products/bulk-update** <br> 1. Send POST with an array of product updates (e.g., `[{id: 1, status: 'draft'}, {id: 2, regular_price: '19.99'}]`).      | Products are updated. Returns JSON array with status for each update. Status 200 or 207 (Multi-Status if partial success).                                                                                                                |               |                    |
| **API-12**   | **Permission Check** <br> 1. Attempt all above API calls as a user WITHOUT `edit_products` capability (e.g., Subscriber).                                            | All requests should be denied with a 401 or 403 error.                                                                                                                                                                                     |               |                    |
| **API-13**   | **POST /esm/v1/products** (with image_id) <br> 1. Create a product with a valid `image_id`.                                                                         | Product is created and the specified image is set as its featured image (`_thumbnail_id` meta field is set).                                                                                                                                 |               |                    |
| **API-14**   | **PUT /esm/v1/products/{id}** (with image_id) <br> 1. Update a product with a valid `image_id`.                                                                     | Product's featured image is updated.                                                                                                                                                                                                       |               |                    |

---

## 5. Frontend Product Management UI (Vue.js app)

### 5.1 Dashboard Layout & Navigation

| Test Case ID | Action                                                                                                                                     | Expected Result                                                                                                                            | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-L-01**  | 1. Log in as `store_manager_frontend`. <br> 2. Navigate to `/storemanagement/`.                                                              | Main app layout loads with a sidebar and main content area. "Products" link is active by default. Product list is displayed.               |               |                    |
| **FP-L-02**  | 1. Click on "Orders" in the sidebar.                                                                                                       | Main content area updates to show the "Orders Management (Placeholder)" view. "Orders" link in sidebar becomes active.                     |               |                    |
| **FP-L-03**  | 1. Click on "Reports" in the sidebar.                                                                                                      | Main content area updates to show the "Reports (Placeholder)" view. "Reports" link in sidebar becomes active.                            |               |                    |
| **FP-L-04**  | 1. Resize browser window to mobile/tablet sizes.                                                                                           | Layout adjusts responsively. Sidebar may collapse or stack. Content remains readable and usable.                                           |               |                    |

### 5.2 Product List Table

| Test Case ID | Action                                                                                                                                                               | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-PL-01** | 1. Ensure some products exist in the database. <br> 2. Load the Product List view.                                                                                     | Products are displayed in the table with correct data (Name, SKU, Price, Stock, Categories, Status). Loading indicator shows initially.                                                                                                                                     |               |                    |
| **FP-PL-02** | 1. If no products exist, load the Product List view.                                                                                                                 | A "No products found" message is displayed.                                                                                                                                                                                                                               |               |                    |
| **FP-PL-03** | **Search:** <br> 1. Type a known product name/SKU into the search bar and press Enter (or wait for debounce if applicable).                                           | Table updates to show only products matching the search query. If no match, "No products found" message.                                                                                                                                                                 |               |                    |
| **FP-PL-04** | **Sort:** <br> 1. Click on table headers (Name, SKU, Price, Stock, Date). <br> 2. Click the same header again.                                                          | Products sort by the clicked column. Arrow indicator shows sort direction. Clicking again reverses sort order.                                                                                                                                                            |               |                    |
| **FP-PL-05** | **Pagination:** <br> 1. Ensure more products exist than `itemsPerPage` (e.g., >10). <br> 2. Click "Next", "Previous", page numbers, "First", "Last" pagination controls. | Product list updates to show the correct set of products for the selected page. Pagination controls enable/disable appropriately (e.g., "Previous" disabled on page 1).                                                                                                      |               |                    |
| **FP-PL-06** | **Items Per Page:** <br> 1. Change the "items per page" dropdown (e.g., to 25).                                                                                        | The number of products displayed on the page changes. Total pages updates accordingly. List refreshes.                                                                                                                                                                  |               |                    |
| **FP-PL-07** | 1. Hover over a product name.                                                                                                                                        | Tooltip or similar shows Product ID (if implemented).                                                                                                                                                                                                                     |               |                    |
| **FP-PL-08** | 1. Check formatting of price (e.g., `$XX.YY`). <br> 2. Check display of stock quantity and status. <br> 3. Check display of categories (comma-separated or similar).      | Data is displayed in a readable and correct format.                                                                                                                                                                                                                       |               |                    |

### 5.3 Add New Product Form

| Test Case ID | Action                                                                                                                                                             | Expected Result                                                                                                                                                                                                                                                                                                                                                                                       | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-AN-01** | 1. Click "Add New Product" button.                                                                                                                                 | Modal opens with "Add New Product" title. Form fields are empty or have default values.                                                                                                                                                                                                                                                                                                                 |               |                    |
| **FP-AN-02** | 1. Fill out the form with valid data (Name, Price, SKU, Description, Stock details, etc.). <br> 2. Click "Create Product".                                          | Form submits. Modal closes. New product appears in the Product List (may require list to refresh or go to first page). Success message (optional). API call to `POST /esm/v1/products` is made with correct data.                                                                                                                                                                             |               |                    |
| **FP-AN-03** | 1. Try to submit the form with a required field empty (e.g., Name).                                                                                                | Validation message appears next to the field or in a summary. Form does not submit. API call is not made.                                                                                                                                                                                                                                                                                           |               |                    |
| **FP-AN-04** | 1. Fill form, click "Cancel".                                                                                                                                      | Modal closes. No product is created. Product list remains unchanged.                                                                                                                                                                                                                                                                                                                                  |               |                    |
| **FP-AN-05** | **Media Upload:** <br> 1. In Add Product form, click "Set Image". <br> 2. WordPress Media Library opens. <br> 3. Select or upload an image. Click "Use this image".   | Media Library opens. After selection, preview updates in the form. Image ID is stored.                                                                                                                                                                                                                                                                                                                |               |                    |
| **FP-AN-06** | 1. Set a featured image. <br> 2. Click "Remove Image".                                                                                                              | Image preview is cleared/reset. Image ID is cleared.                                                                                                                                                                                                                                                                                                                                                    |               |                    |
| **FP-AN-07** | 1. Set a featured image. <br> 2. Fill other product details. <br> 3. Click "Create Product".                                                                          | Product is created. The selected image is set as its featured image on the backend. The image might be visible in the product list or when editing the product again.                                                                                                                                                                                                                                  |               |                    |
| **FP-AN-08** | 1. Select categories and tags (if UI supports this beyond simple text input). <br> 2. Save product.                                                                | Product is created with selected categories/tags. These are reflected in the product list / edit form.                                                                                                                                                                                                                                                                                                |               |                    |

### 5.4 Edit Product Form

| Test Case ID | Action                                                                                                                                                            | Expected Result                                                                                                                                                                                                                                                                                                                                                                                     | Actual Result | Status (Pass/Fail) |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-ED-01** | 1. Click "Edit" on an existing product in the list.                                                                                                               | Modal opens with "Edit Product" title. Form fields are populated with the product's current data (Name, Price, SKU, Description, Stock, Image, etc.).                                                                                                                                                                                                                                                 |               |                    |
| **FP-ED-02** | 1. Change some data (e.g., Price, Description). <br> 2. Click "Save Changes".                                                                                      | Form submits. Modal closes. Changes are reflected in the Product List. Success message (optional). API call to `PUT /esm/v1/products/{id}` is made with correct data.                                                                                                                                                                                                                                   |               |                    |
| **FP-ED-03** | 1. Edit a product, clear a required field (e.g., Name). <br> 2. Click "Save Changes".                                                                              | Validation message appears. Form does not submit.                                                                                                                                                                                                                                                                                                                                                     |               |                    |
| **FP-ED-04** | 1. Edit a product. Click "Cancel".                                                                                                                                | Modal closes. Changes are not saved. Product list remains unchanged.                                                                                                                                                                                                                                                                                                                                |               |                    |
| **FP-ED-05** | **Media Update:** <br> 1. Edit a product that has an existing featured image. <br> 2. Click "Change Image". <br> 3. Select a new image. <br> 4. Save product.     | New image preview shows. After saving, the product's featured image is updated.                                                                                                                                                                                                                                                                                                                       |               |                    |
| **FP-ED-06** | 1. Edit a product that has an existing featured image. <br> 2. Click "Remove Image". <br> 3. Save product.                                                         | Image is removed. After saving, the product no longer has a featured image.                                                                                                                                                                                                                                                                                                                           |               |                    |
| **FP-ED-07** | 1. Edit a product with no featured image. <br> 2. Set a featured image. <br> 3. Save product.                                                                       | Image is set. After saving, product has the new featured image.                                                                                                                                                                                                                                                                                                                                     |               |                    |
| **FP-ED-08** | 1. Edit product, change categories/tags. <br> 2. Save product.                                                                                                    | Product categories/tags are updated. Reflected in product list / edit form.                                                                                                                                                                                                                                                                                                                         |               |                    |

### 5.5 Inline Editing (if fully implemented and not just conceptual)

| Test Case ID | Action                                                                                                                                                           | Expected Result                                                                                                                                                                                                 | Actual Result | Status (Pass/Fail) |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-IE-01** | 1. In Product List, double-click (or single-click if designed so) on a product's Price field.                                                                    | Field becomes an editable input with the current price.                                                                                                                                                         |               |                    |
| **FP-IE-02** | 1. Edit the price inline. <br> 2. Press Enter or click outside the input.                                                                                         | New price is saved. UI updates to show new price. API call is made to update only the price for that product. Change persists after refresh.                                                                     |               |                    |
| **FP-IE-03** | 1. Edit the price inline, then press Esc.                                                                                                                        | Edit is cancelled. Original price remains.                                                                                                                                                                      |               |                    |
| **FP-IE-04** | 1. Repeat IE-01 to IE-03 for Stock Quantity field.                                                                                                               | Similar behavior for stock quantity inline editing.                                                                                                                                                             |               |                    |
| **FP-IE-05** | 1. Attempt to enter invalid data (e.g., non-numeric for price/stock) in inline edit.                                                                               | Input may be prevented, or an error shown, or value reverts. Product data is not corrupted.                                                                                                                     |               |                    |

### 5.6 Bulk Actions

| Test Case ID | Action                                                                                                                                                              | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-BA-01** | 1. In Product List, select multiple products using checkboxes.                                                                                                      | Checkboxes are ticked. "X product(s) selected" message appears. Bulk Actions dropdown and "Apply" button may become active.                                                                                                                                                 |               |                    |
| **FP-BA-02** | 1. Click "Select All" checkbox at the top of the table. <br> 2. Uncheck it.                                                                                         | All products on the current page are selected. Then all are deselected.                                                                                                                                                                                                   |               |                    |
| **FP-BA-03** | **Bulk Delete:** <br> 1. Select multiple products. <br> 2. Choose "Delete Selected" from Bulk Actions dropdown. <br> 3. Click "Apply Bulk Action". Confirm prompt.   | Selected products are deleted from the list. API calls (`DELETE /esm/v1/products/{id}` for each, or one bulk delete call) are made.                                                                                                                                    |               |                    |
| **FP-BA-04** | **Bulk Change Status:** <br> 1. Select products. <br> 2. Choose "Set Status to Draft" (or "Published"). <br> 3. Click "Apply".                                       | Status of selected products changes in the list and on the backend. API call to `POST /esm/v1/products/bulk-update` is made with correct payload.                                                                                                                       |               |                    |
| **FP-BA-05** | 1. Perform a bulk action with no products selected.                                                                                                                 | User is alerted to select products first. No action is performed.                                                                                                                                                                                                         |               |                    |
| **FP-BA-06** | 1. Perform a bulk action without selecting an action from the dropdown.                                                                                             | User is alerted to select an action first. No action is performed.                                                                                                                                                                                                        |               |                    |

### 5.7 Media Manager Integration (Covered in Add/Edit, but specific checks)

| Test Case ID | Action                                                                                                                                                           | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-MM-01** | 1. Open Add/Edit Product modal. <br> 2. Click "Set/Change Image".                                                                                                 | WordPress Media Library opens correctly.                                                                                                                                                                                                                                  |               |                    |
| **FP-MM-02** | 1. In Media Library, switch between "Upload Files" and "Media Library" tabs. <br> 2. Search for an image in the library.                                           | Media Library functions as expected (uploading, searching, selecting).                                                                                                                                                                                                    |               |                    |
| **FP-MM-03** | 1. Select an image and click "Use this image".                                                                                                                   | Modal closes, image preview in the form updates. `image_id` and `image_preview_url` are set in Vue component data.                                                                                                                                                        |               |                    |
| **FP-MM-04** | 1. If `wp_enqueue_media()` was *not* called on the page. <br> 2. Attempt to open media library.                                                                    | An alert or console error indicates `wp.media` is not available. Media library does not open.                                                                                                                                                                             |               |                    |

### 5.8 UI Responsiveness

| Test Case ID | Action                                                                                                                               | Expected Result                                                                                                                                                                                                                                                           | Actual Result | Status (Pass/Fail) |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------|
| **FP-R-01**  | 1. View Product List on a small screen (e.g., mobile).                                                                               | Table columns may stack or scroll horizontally. Search, pagination, and action buttons are accessible and usable. Overall layout is clean.                                                                                                                                      |               |                    |
| **FP-R-02**  | 1. Open Add/Edit Product modal on a small screen.                                                                                      | Modal content is scrollable if it exceeds screen height. Form fields are usable. Buttons are accessible.                                                                                                                                                                  |               |                    |
| **FP-R-03**  | 1. Test all interactive elements (dropdowns, buttons, inputs) on various screen sizes (desktop, tablet, mobile).                       | Elements are correctly sized, positioned, and functional across screen sizes. No major layout breaks or usability issues.                                                                                                                                                 |               |                    |

---
**Overall Test Summary:**

*   **Passed:** _____
*   **Failed:** _____
*   **Blocked:** _____

**General Notes/Bugs Found:**
(Space for any general observations or bugs that don't fit a specific test case)

---
